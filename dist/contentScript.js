!function(){"use strict";let e=null;console.log("Content script running"),chrome.runtime.onMessage.addListener(((o,n,l)=>{console.log("Message received in content script:",o),console.log("From sender:",n),"CHOOSE_VIDEO_SOURCE"===o.type?(console.log("Choosing video source..."),new Promise((o=>{console.log("Choosing video source...");const n=document.querySelectorAll("video");if(0===n.length)return console.log("No video elements found on this page."),void o(null);console.log(`Found ${n.length} video element(s):`),n.forEach(((l,t)=>{console.log(`Video ${t+1}:`,l);const s=document.createElement("div");s.classList.add("video-overlay");const c=l.getBoundingClientRect();s.style.left=`${c.left+window.scrollX}px`,s.style.top=`${c.top+window.scrollY}px`,s.style.width=`${c.width}px`,s.style.height=`${c.height}px`,document.body.appendChild(s),l.addEventListener("mouseenter",(()=>{console.log("Mouse entered video"),s.style.backgroundColor="rgba(8, 166, 246, 0.45)"})),l.addEventListener("mouseleave",(()=>{console.log("Mouse left video"),s.style.backgroundColor="rgba(8, 166, 246, 0.65)"})),l.addEventListener("click",(()=>{console.log("Video clicked:",l),o(l),s.remove(),e=l,n.forEach((e=>{e.replaceWith(e.cloneNode(!0))}))}),{once:!0})}))})).then((e=>{e?(console.log("Video source chosen:",e),chrome.runtime.sendMessage({type:"VIDEO_SOURCE_CHOSEN"})):console.log("No video source selected.")}))):"START_TRACKING"===o.type?(console.log("Starting puck tracking..."),console.log("Tracking puck...")):"STOP_TRACKING"===o.type&&console.log("Stopping puck tracking...")}))}();