!function(){"use strict";console.log("Content script running"),chrome.runtime.onMessage.addListener(((e,o,n)=>{console.log("Message received in content script:",e),console.log("From sender:",o),"CHOOSE_VIDEO_SOURCE"===e.type?(console.log("Choosing video source..."),new Promise((e=>{console.log("Choosing video source...");const o=document.querySelectorAll("video");if(0===o.length)return console.log("No video elements found on this page."),void e(null);console.log(`Found ${o.length} video element(s):`),o.forEach(((n,l)=>{console.log(`Video ${l+1}:`,n);const t=document.createElement("div");t.classList.add("video-overlay");const s=n.getBoundingClientRect();t.style.left=`${s.left+window.scrollX}px`,t.style.top=`${s.top+window.scrollY}px`,t.style.width=`${s.width}px`,t.style.height=`${s.height}px`,document.body.appendChild(t),n.addEventListener("mouseenter",(()=>{console.log("Mouse entered video"),t.style.backgroundColor="rgba(8, 166, 246, 0.45)"})),n.addEventListener("mouseleave",(()=>{console.log("Mouse left video"),t.style.backgroundColor="rgba(8, 166, 246, 0.65)"})),n.addEventListener("click",(()=>{console.log("Video clicked:",n),e(n),t.remove(),o.forEach((e=>{e.replaceWith(e.cloneNode(!0))}))}),{once:!0})}))})).then((e=>{e?(console.log("Video source chosen:",e),chrome.runtime.sendMessage({type:"VIDEO_SOURCE_CHOSEN"})):console.log("No video source selected.")}))):"START_TRACKING"===e.type?(console.log("Starting puck tracking..."),console.log("Tracking puck...")):"STOP_TRACKING"===e.type&&console.log("Stopping puck tracking...")}))}();